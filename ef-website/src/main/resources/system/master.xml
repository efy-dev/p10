<?xml version="1.0" encoding="UTF-8"?>


<module name="master" label="系统-传承人" version="" package="com.efeiyi.ec.master.model.MasterNews" path="">

    <entities>
        <entity name="MasterNews" label="传承人新闻列表"
                model="com.efeiyi.ec.master.model.MasterNews">
            <does>
                <do name="listMainMasterNews" label="传承人新闻列表">
                    <query name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="status" defaultValue="1" operation="eq"/>
                        <condition label="传承人" name="master.id" operation="eq"/>
                    </query>
                </do>
            </does>
        </entity>

        <entity name="MasterWorkWiki" label="传承人产品列表"
                basic="simple" others=""
                model="com.efeiyi.ec.master.model.MasterWork">
            <does>
                <do name="listMasterWorkWiki" access="" label="传承人产品分页列表">
                    <query name="default1" label="默认" type="auto" orderBy="id:desc">
                        <condition name="project.id" operation="eq"/>
                        <condition name="status" defaultValue="1" operation="eq"/>
                    </query>
                </do>
                <do name="viewMasterWorkImg" label="查看传承人产品页" access="" result="/masterWork/imgView"/>
                <do name="formMasterWork" label="保存传承人产品页" access="" result="/masterWork/masterWorkForm"
                    execute="com.efeiyi.ec.system.master.controller.MasterWorkHandler"/>
                <do name="formwikiMasterWork" label="保存传承人产品页" access="" result="/masterWork/masterWorkFormwiki"
                    execute="com.efeiyi.ec.system.master.controller.MasterWorkHandler"/>
                <do name="formMasterWorkRecommended" label="保存传承人推荐产品页" access=""
                    result="/masterWorkRecommended/masterWorkRecommendedForm"
                    execute="com.efeiyi.ec.system.master.controller.MasterWorkHandler"/>
                <do name="viewMasterWork" label="查看传承人产品页" access="" result="/masterWork/masterWorkView"/>
                <do name="saveOrUpdateMasterWork" label="保存传承人产品" access=""
                    result="redirect:/basic/xm.do?qm=plistMasterWork_byProject"
                    execute="com.efeiyi.ec.system.master.controller.MasterWorkFormHandler">
                    <page>
                        <fields>
                            <field name="status" label="状态" defaultValue="1"
                                   inputType="default"></field>
                        </fields>
                    </page>
                </do>
                <do name="saveOrUpdateWikiMasterWork" label="保存传承人产品" access=""
                    result="redirect:/basic/xm.do?qm=plistMasterWorkwiki_byProject"
                    execute="com.efeiyi.ec.system.master.controller.MasterWorkFormHandler">
                    <page>
                        <fields>
                            <field name="status" label="状态" defaultValue="1"
                                   inputType="default"></field>
                        </fields>
                    </page>
                </do>
                <do name="removeMasterWork" label="删除大师产品" access="" result="json"
                    execute="com.efeiyi.ec.system.master.controller.DeleteMasterWorkRecommendedHandler"/>
                <do name="listMasterWork" access="" label="作品">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="project.id" defaultValue="1" operation="eq"/>
                        <condition name="status" defaultValue="1" operation="eq"/>
                    </query>
                    <query name="master" label="默认" type="auto" orderBy="id:desc">
                        <condition name="master.id" defaultValue="1" operation="eq"/>
                        <condition name="status" defaultValue="1" operation="eq"/>
                    </query>

                    <query name="include" label="嵌入" type="auto" orderBy="id:desc">
                        <condition label="状态" name="status" defaultValue="1" operation="eq"/>
                        <condition label="传承人Id" name="master.id" operation="eq"/>
                    </query>
                </do>

            </does>
        </entity>
    </entities>
</module>