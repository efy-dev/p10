<?xml version="1.0" encoding="UTF-8"?>

<module name="Group" label="团" version="" package="com.efeiyi.ec.purchase.model" path="">
    <entities>
        <entity name="PurchaseOrderGroup" label="团订单"  model="com.efeiyi.ec.purchase.model.PurchaseOrderGroup">
            <does>
                <do name="listPurchaseOrderGroup" access="" label="团订单列表">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="member.user.id" defaultValue="${MY_USER}" operation="eq"/>
                        <condition name="status" defaultValue="1" operation="eq"/>
                        <condition name="purchaseOrder.orderStatus" defaultValue="17" operation="ne"/>
                    </query>
                    <query name="default5" label="待发货" type="auto" orderBy="id:desc">
                        <condition name="member.user.id" defaultValue="${MY_USER}" operation="eq"/>
                        <condition name="status" defaultValue="1" operation="eq"/>
                        <condition name="purchaseOrder.orderStatus" defaultValue="5" operation="eq"/>
                    </query>
                    <query name="default7" label="已发货" type="auto" orderBy="id:desc">
                        <condition name="member.user.id" defaultValue="${MY_USER}" operation="eq"/>
                        <condition name="status" defaultValue="1" operation="eq"/>
                        <condition name="purchaseOrder.orderStatus" defaultValue="7" operation="eq"/>
                    </query>
                    <query name="default9" label="未评价" type="auto" orderBy="id:desc">
                        <condition name="member.user.id" defaultValue="${MY_USER}" operation="eq"/>
                        <condition name="status" defaultValue="1" operation="eq"/>
                        <condition name="purchaseOrder.orderStatus" defaultValue="9" operation="eq"/>
                    </query>
                    <query name="default3" label="拼团中" type="auto" orderBy="id:desc">
                        <condition name="status" defaultValue="1" operation="eq"/>
                        <condition name="group.id" defaultValue="1" operation="eq"/>
                    </query>
                    <query name="default0" label="拼团中" type="auto" orderBy="id:desc">
                        <condition name="member.user.id" defaultValue="1" operation="eq"/>
                        <condition name="group.id" defaultValue="1" operation="eq"/>
                    </query>
                </do>
            </does>
        </entity>


        <entity name="CouponBatch" label="优惠券" model="com.efeiyi.ec.purchase.model.CouponBatch">
            <does>
                <do name="listCouponBatch" access="" label="优惠券列表">
                    <query name="default2" label="默认" type="auto" orderBy="id:desc">
                        <condition name="status" defaultValue="0" operation="ne"/>
                        <condition name="consumer.id" defaultValue="${MY_USER}" operation="eq"/>
                    </query>
                    <query name="default" label="默认" type="auto">
                        <condition name="status" defaultValue="0" operation="ne"/>
                    </query>
                    <query name="product" label="可用列表" type="auto" orderBy="id:desc">
                        <condition name="priceLimit" defaultValue="1" operation="le"/>
                        <condition name="product.id" defaultValue="1" operation="eq"/>
                        <condition name="startDate" defaultValue="${CURRENT_DATETIME}" operation="le"/>
                        <condition name="endDate" defaultValue="${CURRENT_DATETIME}" operation="ge"/>
                    </query>
                    <query name="tenant" label="可用列表" type="auto" orderBy="id:desc">
                        <condition name="priceLimit" defaultValue="1" operation="le"/>
                        <condition name="tenant.id" defaultValue="1" operation="eq"/>
                        <condition name="startDate" defaultValue="${CURRENT_DATETIME}" operation="le"/>
                        <condition name="endDate" defaultValue="${CURRENT_DATETIME}" operation="ge"/>
                    </query>
                    <query name="normal" label="可用列表" type="auto" orderBy="id:desc">
                        <condition name="priceLimit" defaultValue="1" operation="le"/>
                        <condition name="startDate" defaultValue="${CURRENT_DATETIME}" operation="le"/>
                        <condition name="endDate" defaultValue="${CURRENT_DATETIME}" operation="ge"/>
                    </query>
                    <query name="bycdkey" label="可用列表" type="auto" orderBy="id:desc">
                        <condition name="status" defaultValue="0" operation="ne"/>
                        <condition name="startDate" defaultValue="1" operation="le"/>
                        <condition name="endDate" defaultValue="1" operation="ge"/>
                        <condition name="uniqueKey" defaultValue="1" operation="eq"/>
                    </query>
                    <query name="defaultFlag" label="可用列表" type="auto" orderBy="id:desc">
                        <condition name="status" defaultValue="0" operation="ne"/>
                        <condition name="defaultFlag" defaultValue="1" operation="eq"/>
                    </query>
                </do>
            </does>
        </entity>


    </entities>
</module>