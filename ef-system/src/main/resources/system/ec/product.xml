<?xml version="1.0" encoding="UTF-8"?>


<module name="product" label="系统-产品" version="" package="com.efeiyi.ec.system.product" path="">

    <entities>
        <entity name="Product" label="产品列表"
                basic="simple" others=""
                model="com.efeiyi.ec.product.model.Product">
            <fields>
                <field name="id" label="产品" inputType="text"/>
                <field name="name" label="产品名字" inputType="text"/>
                <field name="price" label="产品价格" inputType="text"/>
                <field name="picture_url" label="产品图片链接" inputType="text"/>
                <field name="createDatetime" label="创建时间" inputType="date"/>
                <field name="master.id" label="用户" inputType="dialog_pop"/>
            </fields>
            <does>
                <do name="plistProduct" access="" label="产品分页列表"
                    result="/product/productPList" execute="com.efeiyi.ec.system.product.controller.listProductHandler">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="status" defaultValue="1" operation="eq" label="状态" inputType="default"/>
                        <!--<condition name="tenant.id" operation="ne" defaultValue="0" inputType="dialog_do" key="plistTenant_default"/>-->
                    </query>
                    <query name="default1" label="产品名称" type="auto" orderBy="id:desc">
                        <condition name="name"  operation="eq" label="产品名称" inputType="text"/>
                        <condition name="serial"  operation="eq" label="产品编号" inputType="text"/>
                    </query>
                    <query name="tenant" label="商家商品列表" type="auto" orderBy="id:desc">
                        <condition name="tenant.id"  operation="eq" label="商家id" defaultValue="0"/>
                    </query>

                    <!--<query name="index" label="首页推荐商品列表" type="auto" orderBy="recommendedIndex:desc">-->
                        <!--<condition name="id" defaultValue="0" operation="ne"/>-->
                    <!--</query>-->
                </do>

                <do name="saveOrUpdateProduct" label="保存附件" result="redirect:/basic/xm.do?qm=plistProduct_default">
                    <page>
                        <fields>
                            <field name="status" label="状态" defaultValue="1"
                                   inputType="default"/>
                        </fields>
                    </page>
                </do>

                <do name="removeProduct" label="删除产品" access="" result="json"/>
                <do name="formProduct" label="保存产品页" access="" result="/product/productForm" execute="com.efeiyi.ec.system.product.controller.formProductHandler"/>
                <do name="formProduct_Description" label="保存产品页" access="" result="/productDescription/productDescriptionForm" />
                <do name="formProduct_ProductModel" label="保存产品页" access="" result="/productModel/productModelForm" execute="com.efeiyi.ec.system.product.controller.viewProductHandler" />
                <do name="viewProduct" label="查看产品页" access="" result="/product/productView" execute="com.efeiyi.ec.system.product.controller.viewProductHandler" />
                <!--<do name="saveOrUpdateProduct" label="保存产品" access="" result="/product/productSaveSuccess"></do>-->
                <do name="listProduct" label="产品列表" access="" result="/product/productList">
                    <query name="tenant" label="商家产品" type="auto" orderBy="id:desc">
                        <condition name="tenant.id" defaultValue="0" operation="eq"/>
                    </query>
                </do>
                <!--写两个list主要是为了不用一个列表页面，因为后台涉及到点击页面中的链接菜单选中的问题-->
                <do name="listTenantProduct" label="产品列表" access="" result="/product/tenantProductList">
                    <query name="tenant" label="商家产品" type="auto" orderBy="id:desc">
                        <condition name="tenant.id" defaultValue="0" operation="eq"/>
                    </query>
                </do>

            </does>
        </entity>
        <entity name="ProductModel" label="产品列表"
                basic="simple" others=""
                model="com.efeiyi.ec.product.model.ProductModel">
            <does>
                <do name="plistProductModel" access="" label="产品分页列表"
                    result="/productModel/productModelPList">
                    <query name="index" label="首页推荐商品列表" type="auto" orderBy="recommendIndex:desc">
                        <condition name="id" defaultValue="0" operation="ne" inputType="default"/>
                        <condition name="product.name" operation="likes" label="产品名称"/>
                        <condition name="product.serial" operation="eq" label="产品编号"/>
                        <condition name="product.project.name" operation="likes" label="项目"/>
                    </query>
                </do>
            </does>
        </entity>
        <entity name="ProductRecommended" label="推荐产品列表"
                basic="simple" others=""
                model="com.efeiyi.ec.product.model.ProductRecommended">
            <does>
                <do name="plistProductRecommended" access="" label="推荐产品分页列表"
                    result="/productRecommended/productRecommendedPList">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="status" defaultValue="1" operation="eq"/>
                        <condition name="group" defaultValue="productRecommended" operation="eq"/>
                    </query>
                </do>

                <do name="saveOrUpdateProductRecommended" label="保存推荐产品" result="/test/generateTap">
                    <page>
                        <fields>
                            <field name="status" label="状态" defaultValue="1"
                                   inputType="default"/>
                        </fields>
                    </page>
                </do>

                <do name="removeProductRecommended" label="删除推荐产品" access="" result="json"/>
                <do name="formProductRecommended" label="保存推荐产品页" access="" result="/productRecommended/productRecommendedForm"/>
                <do name="listProductRecommended" label="推荐产品列表" access="" result="/productRecommended/productRecommendedList">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition label="主键" name="id" defaultValue="0" operation="ne"/>
                    </query>
                </do>

            </does>
        </entity>
        <entity name="ProductDescription" label="产品描述列表"
                basic="simple" others=""
                model="com.efeiyi.ec.product.model.ProductDescription">
            <fields>
                <field name="id" label="产品描述id" inputType="text"/>
                <field name="content" label="产品内容" inputType="text"/>
            </fields>
            <does>
                <do name="plistProductDescription" access="" label="产品描述分页列表"
                    result="/productDescription/productDescriptionPList">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="content" defaultValue="1" operation="eq"/>
                    </query>
                </do>
                <do name="removeProductDescription" label="删除产品描述" access="" result="json"/>
                <do name="formProductDescription" label="保存产品描述页" access=""
                    result="/productDescription/productDescriptionForm"/>
                <do name="saveOrUpdateProductDescription" label="保存产品描述" access=""
                    result="/productDescription/productDescriptionSaveSuccess"/>
                <do name="listProductDescription" label="产品描述列表" access=""
                    result="/productDescription/productDescriptionList">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition label="产品主键" name="id" defaultValue="1" operation="eq"/>
                    </query>
                </do>

            </does>
        </entity>


        <entity name="ProductPicture" label="产品图片"
                basic="simple" others=""
                model="com.efeiyi.ec.product.model.ProductPicture">
            <does>
                <do name="plistProductPicture" access="" label="产品图片分页列表"
                    result="/productPicture/productPicturePList">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="content" defaultValue="1" operation="eq" />
                    </query>
                </do>
                <do name="removeProductPicture" label="删除产品图片" access="" result="json"/>
                <do name="formProductPicture" label="保存产品描述页" access="" result="/productPicture/productPicturenForm" />
                <do name="saveOrUpdateProductPicture" label="保存产品描述" access="" result="/productPicture/productPictureSaveSuccess"
                    execute="com.efeiyi.ec.system.product.controller.BasicBannerFormHandler" />
                <do name="listProductPicture" label="产品描述列表" access="" result="/productPicture/productPictureList">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition label="产品主键" name="id" defaultValue="1" operation="eq"/>
                    </query>
                </do>

            </does>
        </entity>

    </entities>
</module>