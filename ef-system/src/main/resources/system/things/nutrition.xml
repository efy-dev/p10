<?xml version="1.0" encoding="UTF-8"?>

<module name="nutrition" label="营养" version="" package="com.ming800.material.nutrition" path="">

    <entities>
        <entity name="Ingredient"
                label="原料" basic="" others=""
                model="com.ming800.material.nutrition.model.Ingredient">
            <fields>
                <field name="name" label="名称" inputType="text"/>
                <field name="spell" label="简拼" inputType="text"/>
                <field name="originAddress" label="产地" inputType="text"/>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="Ingredient.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

                <field name="sourceType" label="数据来源"
                       inputType="select_status" key="Ingredient.sourceType">
                    <statusType fieldName="sourceType">
                        <item label="书" value="book"/>
                        <item label="用户采集" value="user"/>
                    </statusType>
                </field>

                <!--<field name="category.id" label="类别" inputType="select_dictionary" key="ingredient_category" >-->
                <!--<dictDefination sid="ingredient_category">-->
                <!--</dictDefination>-->
                <!--</field>-->
                <field name="absorbCategory.id" label="食物摄入类别" inputType="select_dictionary"
                       key="ingredient_absorb_category">
                    <dictDefination sid="ingredient_absorb_category">
                    </dictDefination>
                </field>
                <field name="caloriesCategory.id" label="热量来源类别" inputType="select_dictionary"
                       key="ingredient_calories_category">
                    <dictDefination sid="ingredient_calories_category">
                    </dictDefination>
                </field>
                <field name="fatCategory.id" label="脂肪来源类别" inputType="select_dictionary" key="ingredient_fat_category">
                    <dictDefination sid="ingredient_fat_category">
                    </dictDefination>
                </field>
                <field name="proteinCategory.id" label="蛋白质来源类别" inputType="select_dictionary"
                       key="ingredient_protein_category">
                    <dictDefination sid="ingredient_protein_category">
                    </dictDefination>
                </field>

                <!--ingredientList 列表使用    model中没有这个字段  -->
                <field name="allFieldName" label="数据来源"
                       inputType="select_status" key="Ingredient.allFieldName">
                    <statusType fieldName="allFieldName">
                        <item value="fat" label="脂肪"/>
                        <item value="protein" label="蛋白质"/>
                        <item value="carbohydrate" label="碳水化合物"/>
                        <item value="energy" label="能量"/>
                        <item value="dietaryFiber" label="膳食纤维"/>
                        <!--<item value="ash" label="灰分" />-->
                        <item value="cholesterol" label="胆固醇"/>
                        <item value="va" label="维生素A"/>
                        <item value="vc" label="维生素C"/>
                        <item value="vd" label="维生素D"/>
                        <item value="vbSix" label="维生素B6"/>
                        <item value="vbTwelve" label="维生素B12"/>
                        <item value="ve" label="维生素E"/>
                        <item value="thiamine" label="硫胺素"/>
                        <item value="riboflavin" label="核黄素"/>
                        <!--<item value="carotene" label="胡罗卜素" />-->
                        <item value="folvite" label="叶酸"/>
                        <item value="niacin" label="烟酸"/>

                        <item value="calcium" label="钙"/>
                        <item value="phosphor" label="磷"/>
                        <item value="kalium" label="钾"/>
                        <item value="natrium" label="钠"/>
                        <item value="magnesium" label="镁"/>
                        <item value="iodine" label="碘"/>
                        <item value="manganese" label="锰"/>
                        <item value="copper" label="铜"/>
                        <item value="selenium" label="硒"/>
                        <item value="zinc" label="锌"/>
                        <item value="iron" label="铁"/>
                    </statusType>
                </field>


            </fields>
            <does>

                <do name="listIngredientByConditionsJson"
                    label="json串"
                    result="json">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="主键" name="id" defaultValue="" operation="in" inputType="default"/>
                        <condition label="名称" name="name" defaultValue="" operation="like" inputType="default"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                    </query>
                </do>

                <!--<do name="viewIngredient"
                    result="/material/nutrition/ingredient/ingredientView"/>-->
                <do name="saveOrUpdateIngredient"
                    execute="com.ming800.material.nutrition.controller.IngredientSaveHandler"
                    result="redirect:/basic/xm.do?qm=plistIngredient_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="IngredientLabel"
                label="原料" basic="new,vm,va,em,ea,dm,da" others="dr:导入"
                model="com.ming800.material.nutrition.model.IngredientLabel">
            <fields>

                <field name="name" label="名称" inputType="text"/>
                <field name="spell" label="简拼" inputType="text"/>
                <field name="originAddress" label="产地" inputType="text"/>

                <field name="edible" label="食部" inputType="text"/>
                <field name="water" label="水分" inputType="text"/>
                <field name="fat" label="脂肪" inputType="text"/>
                <field name="protein" label="蛋白质" inputType="text"/>
                <field name="carbohydrate" label="碳水化合物" inputType="text"/>
                <field name="energy" label="能量" inputType="text"/>
                <field name="dietaryFiber" label="膳食纤维" inputType="text"/>
                <field name="dietaryFiberSoluble" label="膳食纤维可溶性" inputType="text"/>
                <field name="dietaryFiberInsoluble" label="膳食纤维不溶性" inputType="text"/>
                <field name="ash" label="灰分" inputType="text"/>
                <field name="cholesterol" label="胆固醇" inputType="text"/>
                <field name="va" label="维生素A" inputType="text"/>
                <field name="vc" label="维生素C" inputType="text"/>
                <field name="vbSix" label="维生素B6" inputType="text"/>
                <field name="vbTwelve" label="维生素B12" inputType="text"/>
                <field name="vd" label="维生素D" inputType="text"/>
                <field name="ve" label="维生素E" inputType="text"/>
                <field name="thiamine" label="硫胺素" inputType="text"/>
                <field name="riboflavin" label="核黄素" inputType="text"/>
                <field name="carotene" label="胡罗卜素" inputType="text"/>
                <field name="folvite" label="叶酸" inputType="text"/>
                <field name="niacin" label="烟酸" inputType="text"/>

                <field name="calcium" label="钙" inputType="text"/>
                <field name="phosphor" label="磷" inputType="text"/>
                <field name="kalium" label="钾" inputType="text"/>
                <field name="natrium" label="钠" inputType="text"/>
                <field name="magnesium" label="镁" inputType="text"/>
                <field name="iodine" label="碘" inputType="text"/>
                <field name="manganese" label="锰" inputType="text"/>
                <field name="copper" label="铜" inputType="text"/>
                <field name="selenium" label="硒" inputType="text"/>
                <field name="zinc" label="锌" inputType="text"/>
                <field name="iron" label="铁" inputType="text"/>

            </fields>
            <does>

                <do name="plistIngredientDialog" type="dialog"
                    label="全部原料信息"
                    result="/material/nutrition/ingredient/ingredientDialog">
                    <query type="auto" name="default" label="默认" orderBy="id:asc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                        <condition label="名称" name="name" defaultValue="" operation="like" inputType="text"/>
                    </query>
                    <query name="advance" label="分类查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="类别" name="category.id" defaultValue="" operation="eq" inputType="default"/>
                        <!--<condition label="名称" name="name" defaultValue="" operation="likes" inputType="text" />-->
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="edible" label="食部(%)" align="right"/>
                            <field name="energy" label="能量(kcal)" align="right"/>
                            <field name="protein" label="蛋白质(g)" align="right"/>
                            <field name="fat" label="脂肪(g)" align="right"/>
                            <field name="carbohydrate" label="碳水化合物(g)" align="right"/>
                        </fields>
                    </page>
                </do>

                <do name="plistIngredient"
                    label="全部原料信息"
                    result="/material/nutrition/ingredient/ingredientList">
                    <query type="auto" name="default" label="默认" orderBy="id:asc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                        <condition label="名称" name="name" defaultValue="" operation="like" inputType="text"/>
                    </query>
                    <query name="advance" label="分类查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="类别" name="category.id" defaultValue="" operation="eq" inputType="default"/>
                        <!--<condition label="名称" name="name" defaultValue="" operation="likes" inputType="text" />-->
                    </query>
                </do>

                <do name="formIngredient"
                    result="/material/nutrition/ingredient/ingredientForm">
                    <page>
                        <fields>
                            <field name="user" defaultValue="${MY_USER}"/>
                        </fields>
                    </page>
                </do>
                <do name="viewIngredientLabel"
                    result="/material/nutrition/ingredient/ingredientView"/>
                <do name="saveOrUpdateIngredientLabel"
                    result="redirect:/basic/xm.do?qm=saveOrUpdateIngredient&amp;id=${id}">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                            <field name="user" defaultValue="${MY_USER}"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                        </fields>
                    </page>
                </do>
                <do name="removeIngredient"
                    result="json"/>
            </does>
        </entity>

        <entity name="Dish"
                label="菜" basic="new,vm,va,em,ea,dm,da" others=""
                model="com.ming800.material.nutrition.model.Dish">
            <fields>
                <field name="name" label="名称" inputType="text"/>
                <field name="spell" label="简拼" inputType="text"/>

                <field name="season" label="季节" dataType="int"
                       inputType="select_status" key="Dish.season">
                    <statusType fieldName="season">
                        <item label="通用" value="9"/>
                        <item label="春" value="1"/>
                        <item label="夏" value="2"/>
                        <item label="秋" value="3"/>
                        <item label="冬" value="4"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="listDishByConditions"
                    label="全部菜信息"
                    result="json">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                        <condition label="菜名" name="name" defaultValue="" operation="eq" inputType="text"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="spell" label="简拼"/>
                            <field name="season" label="季节" dataType="status" key="Dish.season"/>
                        </fields>
                    </page>
                </do>

                <do name="plistDishDialog" type="dialog"
                    label="全部菜信息"
                    result="/material/nutrition/dish/dishDialog">
                    <query name="dialog" label="按名称查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                        <condition label="菜名" name="name" defaultValue="" operation="likes" inputType="text"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="spell" label="简拼"/>
                            <field name="season" label="季节" dataType="status" key="Dish.season"/>
                        </fields>
                    </page>
                </do>

                <do name="plistDish"
                    label="全部菜信息"
                    result="/material/nutrition/dish/dishList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                        <condition label="菜名" name="name" defaultValue="" operation="likes" inputType="text"/>
                    </query>
                </do>

                <do name="plistSpinachDish"
                    label="全部菜信息"
                    result="/spinach/spinachDishList">
                    <query name="basic" label="分类查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="季节" name="season" inputType="select_status" key="Dish.season" operation="eq"
                                   dataType="int"/>
                    </query>
                </do>

                <do name="formDish"
                    result="/material/nutrition/dish/dishForm"/>
                <do name="viewDish"
                    result="/material/nutrition/dish/dishView">
                    <!--<page type="related"
                          label="原料信息"
                          url="/basic/xm.do?qm=plistDishIngredientByDish_default&amp;conditions=dish.id:">
                    </page>-->
                </do>

                <do name="saveOrUpdateDish"
                    execute="com.ming800.material.nutrition.controller.DishSaveHandler"
                    result="redirect:/basic/xm.do?qm=viewDish&amp;id=${id}">
                    <page>
                        <fields>
                            <field name="createDatetime" defaultValue="${CURRENT_DATE}"/>
                            <field name="user" defaultValue="${MY_USER}"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>

                <do name="removeDish"
                    result="json"/>

            </does>
        </entity>

        <entity name="DishIngredient"
                label="菜原料" basic="" others=""
                model="com.ming800.material.nutrition.model.DishIngredient">
            <fields>
            </fields>
            <does>

                <!--<do name="plistDishIngredientByDish"
                    label="全部菜信息"
                    result="xpagerelated">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="菜" name="dish.id" defaultValue="" operation="eq" inputType="default" />
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default" dataType="int" />
                    </query>
                    <page>
                        <commands type="command">
                            <command name="new" label="添加原料" type="add" url="/basic/xm.do?resultType=dish&amp;qm=formDishIngredient"/>
                        </commands>
                        <commands type="operation">
                            <command name="edit" label="修改"
                                     url="/basic/xm.do?resultType=dish&amp;qm=formDishIngredient&amp;id=${id}"/>
                            <command name="remove" label="删除"
                                     url="/basic/xm.do?qm=removeDishIngredientByDish&amp;id=${id}"/>
                        </commands>
                        <fields>
                            <field name="id" label="主键" inputType="default" />
                            <field name="smallIngredient.name" label="原料名称" url="/basic/xm.do?qm=viewIngredient&amp;id=${smallIngredient.id}"/>
                            <field name="smallIngredient.edible" label="食部(%)" align="right" />
                            <field name="smallIngredient.energy" label="能量(kcal)" align="right" />
                            <field name="smallIngredient.protein" label="蛋白质(g)" align="right" />
                            <field name="smallIngredient.fat" label="脂肪(g)" align="right" />
                            <field name="smallIngredient.carbohydrate" label="碳水化合物(g)" align="right" />
                            <field name="amount" label="重量(g)" align="right" />
                        </fields>
                    </page>
                </do>-->

                <do name="formDishIngredient"
                    result="/material/nutrition/dish/dishIngredientForm"/>
                <do name="viewDishIngredient"
                    result="/material/nutrition/dish/dishIngredientView"/>

                <do name="saveOrUpdateDishIngredient"
                    result="redirect:/basic/xm.do?qm=plistDishIngredient_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>

                <do name="removeDishIngredientByDish"
                    result="redirect:/basic/xm.do?qm=viewDish&amp;id=${dish.id}"/>

                <do name="plistDishIngredientByDishJson"
                    label="json串"
                    result="json">
                    <query type="auto" name="default" label="默认" orderBy="id:asc">
                        <condition label="主键" name="id" defaultValue="" operation="in" inputType="default"/>
                        <condition label="菜" name="dish.id" defaultValue="" operation="eq" inputType="default"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="ingredient.id" label="原料主键" inputType="default"/>
                            <field name="ingredient.name" label="原料名称"/>
                            <field name="ingredient.spell" label="原料简拼"/>
                            <field name="ingredient.originAddress" label="原料产地"/>
                            <field name="ingredient.edible" label="食部(%)" align="right"/>
                            <field name="ingredient.energy" label="能量(kcal)" align="right"/>
                            <field name="ingredient.protein" label="蛋白质(g)" align="right"/>
                            <field name="ingredient.fat" label="脂肪(g)" align="right"/>
                            <field name="ingredient.water" label="水分(g)" align="right"/>
                            <field name="ingredient.carbohydrate" label="碳水化合物(g)" align="right"/>

                            <field name="ingredient.dietaryFiber" label="膳食纤维(g)" align="right"/>
                            <field name="ingredient.ash" label="灰分(g)" align="right"/>
                            <field name="ingredient.cholesterol" label="胆固醇(g)" align="right"/>
                            <field name="ingredient.va" label="维生素A(g)" align="right"/>
                            <field name="ingredient.vc" label="维生素C(g)" align="right"/>
                            <item value="ingredient.vd" label="维生素D(mg)" align="right"/>
                            <field name="ingredient.vbSix" label="维生素B6(g)" align="right"/>
                            <field name="ingredient.vbTwelve" label="维生素B12(g)" align="right"/>
                            <field name="ingredient.ve" label="维生素E(g)" align="right"/>
                            <field name="ingredient.vitaminE" label="维生素E(VitE)α-TE(g)" align="right"/>
                            <field name="ingredient.thiamine" label="硫胺素(g)" align="right"/>
                            <field name="ingredient.riboflavin" label="核黄素(g)" align="right"/>
                            <field name="ingredient.carotene" label="胡罗卜素(g)" align="right"/>
                            <field name="ingredient.folvite" label="叶酸(g)" align="right"/>
                            <field name="ingredient.niacin" label="烟酸(g)" align="right"/>

                            <field name="ingredient.calcium" label="钙(g)" align="right"/>
                            <field name="ingredient.phosphor" label="磷(g)" align="right"/>
                            <field name="ingredient.kalium" label="钾(g)" align="right"/>
                            <field name="ingredient.natrium" label="钠(g)" align="right"/>
                            <field name="ingredient.magnesium" label="镁(g)" align="right"/>
                            <field name="ingredient.iron" label="铁(g)" align="right"/>
                            <field name="ingredient.zinc" label="锌(g)" align="right"/>
                            <field name="ingredient.selenium" label="硒(g)" align="right"/>
                            <field name="ingredient.copper" label="铜(g)" align="right"/>
                            <field name="ingredient.manganese" label="锰(g)" align="right"/>
                            <field name="ingredient.iodine" label="碘(g)" align="right"/>

                            <field name="amount" label="重量(g)" align="right"/>

                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="Meal"
                label="饭" basic="" others=""
                model="com.ming800.material.nutrition.model.Meal">
            <fields>
                <field name="name" label="名称" inputType="text"/>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="Meal.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

                <field name="weekday" label="周记" dataType="int"
                       inputType="select_status" key="Meal.weekday">
                    <statusType fieldName="weekday">
                        <item label="第1天" value="2"/>
                        <item label="第2天" value="3"/>
                        <item label="第3天" value="4"/>
                        <item label="第4天" value="5"/>
                        <item label="第5天" value="6"/>
                        <item label="第6天" value="7"/>
                        <item label="第7天" value="1"/>
                    </statusType>
                </field>

                <field name="quantifier" label="第几顿" dataType="int"
                       inputType="select_status" key="Meal.quantifier">
                    <statusType fieldName="quantifier">
                        <item label="早餐" value="1"/>
                        <item label="上午加餐" value="2"/>
                        <item label="午餐" value="3"/>
                        <item label="下午加餐" value="4"/>
                        <item label="晚餐" value="5"/>
                        <item label="晚加餐" value="6"/>
                    </statusType>
                </field>

            </fields>
            <does>


                <do name="plistMealDialog" type="dialog"
                    label="全部菜信息"
                    result="xpage">
                    <query type="auto" name="dialog" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="customerCateringPlan.tenant.id" defaultValue="${MY_BRANCH}"
                                   operation="eq" inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="memo" label="备注"/>
                        </fields>
                    </page>
                </do>

                <do name="formMeal"
                    result="/material/nutrition/meal/mealForm"/>
                <do name="viewMeal"
                    result="/material/nutrition/meal/mealView">
                    <page type="related"
                          label="菜信息"
                          url="/basic/xm.do?qm=plistMealDishByMeal_default&amp;conditions=meal.id:">
                    </page>
                </do>

                <do name="saveOrUpdateMeal"
                    result="redirect:/meal/mealStatistic.do?id=${id}">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>

                <do name="removeMeal"
                    result="json"/>
                <do name="batchRemoveMeal"
                    result="json">
                    <page>
                        <fields>
                            <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="MealDish"
                label="饭菜" basic="" others=""
                model="com.ming800.material.nutrition.model.MealDish">
            <fields>
            </fields>
            <does>

                <do name="plistMealDishByPlan"
                    label="全部菜信息"
                    result="xpage">
                    <query type="auto" name="dialog" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="周几" name="meal.weekday" defaultValue="" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="第几顿饭" name="meal.quantifier" defaultValue="" operation="eq"
                                   inputType="default" dataType="int"/>
                        <condition label="机构" name="meal.customerCateringPlan.tenant.id" defaultValue="${MY_BRANCH}"
                                   operation="eq" inputType="default"/>
                        <condition label="计划" name="meal.customerCateringPlan.id" defaultValue="" operation="eq"
                                   inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="smallIngredient.id" label="名称" inputType="default"/>
                            <field name="smallIngredient.name" label="名称"/>

                            <field name="ingredient.id" label="原料主键" inputType="default"/>
                            <field name="ingredient.name" label="原料名称"/>
                            <field name="ingredient.spell" label="原料简拼"/>
                            <field name="ingredient.originAddress" label="原料产地"/>
                            <field name="ingredient.edible" label="食部(%)" align="right"/>
                            <field name="ingredient.energy" label="能量(kcal)" align="right"/>
                            <field name="ingredient.protein" label="蛋白质(g)" align="right"/>
                            <field name="ingredient.fat" label="脂肪(g)" align="right"/>
                            <field name="ingredient.water" label="水分(g)" align="right"/>
                            <field name="ingredient.carbohydrate" label="碳水化合物(g)" align="right"/>

                            <field name="ingredient.dietaryFiber" label="膳食纤维(g)" align="right"/>
                            <field name="ingredient.ash" label="灰分(g)" align="right"/>
                            <field name="ingredient.cholesterol" label="胆固醇(g)" align="right"/>
                            <field name="ingredient.va" label="维生素A(g)" align="right"/>
                            <field name="ingredient.vc" label="维生素C(g)" align="right"/>
                            <field name="ingredient.vbSix" label="维生素B6(g)" align="right"/>
                            <field name="ingredient.vbTwelve" label="维生素B12(g)" align="right"/>
                            <field name="ingredient.vd" label="维生素D(g)" align="right"/>
                            <field name="ingredient.ve" label="维生素E(g)" align="right"/>
                            <field name="ingredient.vitaminE" label="维生素E(VitE)α-TE(g)" align="right"/>
                            <field name="ingredient.thiamine" label="硫胺素(g)" align="right"/>
                            <field name="ingredient.riboflavin" label="核黄素(g)" align="right"/>
                            <field name="ingredient.carotene" label="胡罗卜素(g)" align="right"/>
                            <field name="ingredient.folvite" label="叶酸(g)" align="right"/>
                            <field name="ingredient.niacin" label="烟酸(g)" align="right"/>

                            <field name="ingredient.calcium" label="钙(g)" align="right"/>
                            <field name="ingredient.phosphor" label="磷(g)" align="right"/>
                            <field name="ingredient.kalium" label="钾(g)" align="right"/>
                            <field name="ingredient.natrium" label="钠(g)" align="right"/>
                            <field name="ingredient.magnesium" label="镁(g)" align="right"/>
                            <field name="ingredient.iron" label="铁(g)" align="right"/>
                            <field name="ingredient.zinc" label="锌(g)" align="right"/>
                            <field name="ingredient.selenium" label="硒(g)" align="right"/>
                            <field name="ingredient.copper" label="铜(g)" align="right"/>
                            <field name="ingredient.manganese" label="锰(g)" align="right"/>
                            <field name="ingredient.iodine" label="碘(g)" align="right"/>

                            <field name="amount" label="重量(g)" align="right"/>
                            <field name="price" label="价格" align="right"/>
                            <field name="dish.id" label="菜主键" inputType="default"/>
                            <field name="dish.name" label="菜名"/>
                            <field name="meal.id" label="饭主键" inputType="default"/>
                            <field name="meal.weekday" label="周几"/>
                            <field name="meal.quantifier" label="第几顿"/>
                        </fields>
                    </page>
                </do>


                <do name="plistMealDishByMeal"
                    label="饭菜信息"
                    result="xpagerelated">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="菜" name="meal.id" defaultValue="" operation="eq" inputType="default"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                    </query>
                    <page>
                        <commands type="command">
                            <command name="new" label="添加菜" type="add"
                                     url="/basic/xm.do?resultType=meal&amp;type=dish&amp;qm=formMealDish"/>
                            <command name="new" label="添加原料" type="add"
                                     url="/basic/xm.do?resultType=meal&amp;type=ingredient&amp;qm=formMealDish"/>
                        </commands>
                        <commands type="operation">
                            <!--<command name="edit" label="修改"
                                     url="/basic/xm.do?resultType=meal&amp;qm=formMealDish&amp;id=${id}"/>-->
                            <command name="remove" label="删除"
                                     url="/basic/xm.do?qm=removeMealDishByMeal&amp;id=${id}"/>
                        </commands>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="smallIngredient.name" label="原料"
                                   url="/basic/xm.do?resultType=dish&amp;qm=viewMealDish&amp;id=${id}"/>
                            <field name="smallIngredient.edible" label="食部(%)" align="right"/>
                            <field name="smallIngredient.energy" label="能量(kcal)" align="right"/>
                            <field name="smallIngredient.protein" label="蛋白质(g)" align="right"/>
                            <field name="smallIngredient.fat" label="脂肪(g)" align="right"/>
                            <field name="smallIngredient.carbohydrate" label="碳水化合物(g)" align="right"/>
                            <field name="dish.name" label="菜名"/>
                        </fields>
                    </page>
                </do>

                <do name="formMealDish"
                    result="/material/nutrition/meal/mealDishForm"/>
                <do name="viewMealDish"
                    result="/material/nutrition/meal/mealDishView"/>

                <do name="saveOrUpdateMealDish"
                    execute="com.ming800.material.nutrition.controller.MealDishSaveHandler"
                    result="redirect:/basic/xm.do?qm=plistMealDish_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>

                <do name="removeMealDishByMeal"
                    result="redirect:/basic/xm.do?qm=viewMeal&amp;id=${meal.id}"/>


                <do name="plistMealDishIngredientByMealJson"
                    label="json串"
                    result="json">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="饭" name="meal.id" defaultValue="" operation="in" inputType="default"/>
                        <condition label="原料" name="ingredient.id" defaultValue="" operation="in" inputType="default"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="ingredient.name" label="原料名称"/>
                            <field name="ingredient.spell" label="原料简拼"/>
                            <field name="ingredient.originAddress" label="原料产地"/>
                            <field name="ingredient.edible" label="食部(%)" align="right"/>
                            <field name="ingredient.energy" label="能量(kcal)" align="right"/>
                            <field name="ingredient.protein" label="蛋白质(g)" align="right"/>
                            <field name="ingredient.fat" label="脂肪(g)" align="right"/>
                            <field name="ingredient.water" label="水分(g)" align="right"/>
                            <field name="ingredient.carbohydrate" label="碳水化合物(g)" align="right"/>

                            <field name="ingredient.dietaryFiber" label="膳食纤维(g)" align="right"/>
                            <field name="ingredient.ash" label="灰分(g)" align="right"/>
                            <field name="ingredient.cholesterol" label="胆固醇(g)" align="right"/>
                            <field name="ingredient.va" label="维生素A(g)" align="right"/>
                            <field name="ingredient.vc" label="维生素C(g)" align="right"/>
                            <field name="ingredient.vbSix" label="维生素B6(g)" align="right"/>
                            <field name="ingredient.vbTwelve" label="维生素B12(g)" align="right"/>
                            <field name="ingredient.vd" label="维生素D(g)" align="right"/>
                            <field name="ingredient.ve" label="维生素E(g)" align="right"/>
                            <field name="ingredient.vitaminE" label="维生素E(VitE)α-TE(g)" align="right"/>
                            <field name="ingredient.thiamine" label="硫胺素(g)" align="right"/>
                            <field name="ingredient.riboflavin" label="核黄素(g)" align="right"/>
                            <field name="ingredient.carotene" label="胡罗卜素(g)" align="right"/>
                            <field name="ingredient.folvite" label="叶酸(g)" align="right"/>
                            <field name="ingredient.niacin" label="烟酸(g)" align="right"/>

                            <field name="ingredient.calcium" label="钙(g)" align="right"/>
                            <field name="ingredient.phosphor" label="磷(g)" align="right"/>
                            <field name="ingredient.kalium" label="钾(g)" align="right"/>
                            <field name="ingredient.natrium" label="钠(g)" align="right"/>
                            <field name="ingredient.magnesium" label="镁(g)" align="right"/>
                            <field name="ingredient.iron" label="铁(g)" align="right"/>
                            <field name="ingredient.zinc" label="锌(g)" align="right"/>
                            <field name="ingredient.selenium" label="硒(g)" align="right"/>
                            <field name="ingredient.copper" label="铜(g)" align="right"/>
                            <field name="ingredient.manganese" label="锰(g)" align="right"/>
                            <field name="ingredient.iodine" label="碘(g)" align="right"/>

                            <field name="amount" label="重量(g)" align="right"/>

                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="Customer"
                label="客户档案" basic="" others=""
                model="com.ming800.material.nutrition.model.MNCustomer">
            <fields>
                <field name="name" label="姓名" inputType="text"/>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="Customer.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

                <field name="theType" label="类型" dataType="int"
                       inputType="select_status" key="Customer.theType">
                    <statusType fieldName="theType">
                        <item label="个体" value="1"/>
                        <item label="群体" value="11"/>
                    </statusType>
                </field>

                <field name="workType" label="工作强度" dataType="int"
                       inputType="select_status" key="Customer.workType">
                    <statusType fieldName="workType">
                        <item label="轻度" value="1"/>
                        <item label="中度" value="2"/>
                        <item label="重度" value="3"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistCustomerDialog" type="dialog"
                    label="全部菜信息"
                    result="xpage">
                    <query type="auto" name="dialog" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="姓名"/>
                            <field name="serial" label="编号"/>
                            <field name="theType" label="类型" dataType="status" key="Customer.theType"/>
                            <field name="memo" label="备注"/>
                        </fields>
                    </page>
                </do>

                <do name="plistCustomer"
                    label="客户档案"
                    result="/material/nutrition/customer/customerList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                        <condition label="姓名/名称" name="name" defaultValue="" operation="eq" inputType="text"/>
                    </query>
                    <!--<page>-->
                    <!--<commands type="command">-->
                    <!--<command name="new" label="新建客户档案" type="add" url="/basic/xm.do?qm=formCustomer"/>-->
                    <!--</commands>-->
                    <!--<commands type="operation">-->
                    <!--<command name="edit" label="修改"-->
                    <!--url="/basic/xm.do?qm=formCustomer&amp;id=${id}"/>-->
                    <!--</commands>-->
                    <!--<commands type="batch">-->
                    <!--<command name="batchRemove" label="批量删除" type="remove"-->
                    <!--url="batchRemoveCustomer" />-->
                    <!--</commands>-->
                    <!--<fields>-->
                    <!--<field name="id" label="主键" inputType="default" />-->
                    <!--<field name="name" label="姓名" url="/basic/xm.do?qm=viewCustomer&amp;id=${id}"/>-->
                    <!--<field name="serial" label="编号" />-->
                    <!--<field name="theType" label="类型" dataType="status" key="Customer.theType" />-->
                    <!--<field name="memo" label="备注" />-->
                    <!--</fields>-->
                    <!--</page>-->
                </do>
                <do name="plistMyCustomer"
                    label="我的客户档案"
                    result="/material/nutrition/customer/myCustomerList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="client.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="client.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                        <condition label="姓名/名称" name="name" defaultValue="" operation="eq" inputType="text"/>
                    </query>
                </do>

                <!--<do name="formCustomer"
                    result="/material/nutrition/customer/customerForm"/>
                <do name="viewCustomer"
                    result="/material/nutrition/customer/customerView">
                    <page type="related"
                          label="评估信息"
                          url="/basic/xm.do?qm=plistAssessmentByCustomer_default&amp;conditions=customer.id:">
                    </page>
                    <page type="related"
                          label="新建套餐"
                          url="/basic/xm.do?qm=plistCustomerCateringPlanByCustomer_default&amp;conditions=theType:2;customer.id:">
                    </page>
                </do>-->

                <!--<do name="saveOrUpdateCustomer"-->
                <!--execute="com.ming800.material.nutrition.controller.CustomerSaveHandler"-->
                <!--result="redirect:/basic/xm.do?qm=plistCustomer_default">-->
                <!--<page>-->
                <!--<fields>-->
                <!--<field name="tenant" defaultValue="${MY_BRANCH}" />-->
                <!--<field name="theStatus" defaultValue="1" dataType="int" />-->
                <!--</fields>-->
                <!--</page>-->
                <!--</do>-->

                <do name="removeCustomer"
                    result="json"/>
                <do name="batchRemoveCustomer"
                    result="json">
                    <page>
                        <fields>
                            <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="CustomerPersonInfo"
                label="个人客户档案" basic="new,vm,va,em,ea,dm,da" others=""
                model="com.ming800.material.nutrition.model.CustomerPersonInfo">
            <fields>
                <field name="phone" label="电话" inputType="text"/>

                <field name="personType" label="状态" dataType="int"
                       inputType="select_status" key="CustomerPersonInfo.personType">
                    <statusType fieldName="personType">
                        <item label="男" value="1"/>
                        <item label="女" value="2"/>
                        <item label="孕妇(早)" value="3"/>
                        <item label="孕妇(中)" value="4"/>
                        <item label="孕妇(晚)" value="5"/>
                        <item label="乳母" value="6"/>
                    </statusType>
                </field>

                <field name="bloodType" label="血型" dataType="int"
                       inputType="select_status" key="CustomerPersonInfo.bloodType">
                    <statusType fieldName="bloodType">
                        <item label="A型" value="1"/>
                        <item label="B型" value="2"/>
                        <item label="AB型" value="3"/>
                        <item label="O型" value="4"/>
                    </statusType>
                </field>

                <field name="marriageType" label="婚否" dataType="int"
                       inputType="select_status" key="CustomerPersonInfo.marriageType">
                    <statusType fieldName="marriageType">
                        <item label="未婚" value="1"/>
                        <item label="已婚" value="2"/>
                    </statusType>
                </field>

                <field name="goalType" label="目标" dataType="int"
                       inputType="select_status" key="CustomerPersonInfo.goalType">
                    <statusType fieldName="goalType">
                        <item label="减肥" value="1"/>
                        <item label="维持" value="5"/>
                        <item label="增重" value="9"/>
                    </statusType>
                </field>

                <field name="jobType" label="工作类型" dataType="int"
                       inputType="select_status" key="CustomerPersonInfo.jobType">
                    <statusType fieldName="jobType">
                        <!--学生  教师  白领   工人  农民  公务员 -->
                        <item label="学生" value="1"/>
                        <item label="教师" value="11"/>
                        <item label="工人" value="12"/>
                        <item label="农民" value="13"/>
                        <item label="公务员" value="15"/>
                        <item label="白领" value="18"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="formCustomerPersonInfo"
                    result="/material/nutrition/customer/customerPersonInfoForm">
                    <page>
                        <fields>
                            <field name="theType" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>
                <do name="viewCustomerPersonInfo"
                    result="/material/nutrition/customer/customerPersonInfoView">
                    <!--<page type="related"
                          label="评估记录"
                          url="/basic/xm.do?qm=plistAssessmentByCustomer_default&amp;conditions=customer.id:">
                    </page>-->
                    <page type="related"
                          label="评估记录"
                          url="/basic/xm.do?qm=listCustomerCateringPlanByCustomer_default&amp;theType=assessment&amp;conditions=theType:3;customer.id:">
                    </page>
                    <page type="related"
                          label="配餐记录"
                          url="/basic/xm.do?qm=listCustomerCateringPlanByCustomer_default&amp;theType=meal&amp;conditions=theType:2;customer.id:">
                    </page>
                </do>

                <do name="saveOrUpdateCustomerPersonInfo"
                    execute="com.ming800.material.nutrition.controller.CustomerPersonInfoSaveHandler"
                    result="redirect:/basic/xm.do?qm=viewCustomerPersonInfo&amp;id=${id}">
                    <page>
                        <fields>
                            <field name="createDatetime" defaultValue="${CURRENT_DATE}"/>
                            <field name="user" defaultValue="${MY_USER}"/>
                            <field name="client" defaultValue="${MY_USER}"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="CustomerPeopleInfo"
                label="群体客户档案" basic="new,vm,va,em,ea,dm,da" others=""
                model="com.ming800.material.nutrition.model.CustomerPeopleInfo">
            <fields>

            </fields>
            <does>

                <do name="formCustomerPeopleInfo"
                    result="/material/nutrition/customer/customerPeopleInfoForm">
                    <page>
                        <fields>
                            <field name="theType" defaultValue="11" dataType="int"/>
                        </fields>
                    </page>
                </do>
                <do name="viewCustomerPeopleInfo"
                    result="/material/nutrition/customer/customerPeopleInfoView">
                    <!--<page type="related"
                          label="评估记录"
                          url="/basic/xm.do?qm=plistAssessmentByCustomer_default&amp;conditions=customer.id:">
                    </page>-->
                    <page type="related"
                          label="评估记录"
                          url="/basic/xm.do?qm=listCustomerCateringPlanByCustomer_default&amp;theType=assessment&amp;conditions=theType:3;customer.id:">
                    </page>
                    <page type="related"
                          label="配餐记录"
                          url="/basic/xm.do?qm=listCustomerCateringPlanByCustomer_default&amp;theType=meal&amp;conditions=theType:2;customer.id:">
                    </page>
                </do>

                <do name="saveOrUpdateCustomerPeopleInfo"
                    execute="com.ming800.material.nutrition.controller.CustomerPeopleInfoSaveHandler"
                    result="redirect:/basic/xm.do?qm=viewCustomerPeopleInfo&amp;id=${id}">
                    <page>
                        <fields>
                            <field name="createDatetime" defaultValue="${CURRENT_DATE}"/>
                            <field name="user" defaultValue="${MY_USER}"/>
                            <field name="client" defaultValue="${MY_USER}"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>


        </entity>

        <!--        <entity name="Assessment"
                        label="客户评估" basic="new,vm,va,em,ea,dm,da" others=""
                        model="com.ming800.material.nutrition.model.Assessment">
                    <fields>
                        <field name="theStatus" label="状态" dataType="int"
                               inputType="select_status" key="Ingredient.theStatus" >
                            <statusType fieldName="theStatus">
                                <item label="删除" value="0" />
                                <item label="正常" value="1" />
                            </statusType>
                        </field>

                    </fields>
                    <does>

                        <do name="plistAssessmentByCustomer"
                            label="客户评估记录"
                            result="xpagerelated">
                            <query type="auto" name="default" label="默认" orderBy="id:desc">
                                <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default" dataType="int" />
                                <condition label="客户" name="customer.id" defaultValue="" operation="eq" inputType="default" />
                            </query>
                            <page>
                                <commands type="command">
                                    <command name="new" label="评估" type="add" url="/basic/xm.do?resultType=customer&amp;qm=formAssessment"/>
                                </commands>
                                <commands type="operation">
                                    <command name="edit" label="修改"
                                             url="/basic/xm.do?resultType=customer&amp;qm=formAssessment&amp;id=${id}"/>
                                    <command name="remove" label="删除"
                                             url="/basic/xm.do?qm=removeAssessmentByCustomer&amp;id=${id}"/>
                                </commands>
                                <fields>
                                    <field name="id" label="主键" inputType="default" />
                                    <field name="createDatetime" label="创建时间" dataType="datetime" url="/basic/xm.do?resultType=customer&amp;qm=viewAssessment&amp;id=${id}"/>
                                </fields>
                            </page>
                        </do>

                        <do name="plistAssessmentDialog" type="dialog"
                            label="评估信息"
                            result="xpage">
                            <query type="auto" name="default" label="默认" orderBy="id:desc">
                                <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default" dataType="int" />
                                <condition label="机构" name="customer.tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />
                                <condition label="客户" name="customer.id" defaultValue="" operation="eq" inputType="default" />
                            </query>
                            <page>
                                <fields>
                                    <field name="id" label="主键" inputType="default" />
                                    <field name="customer.name" label="客户" />
                                    <field name="createDatetime" label="创建时间" dataType="datetime" />
                                </fields>
                            </page>
                        </do>

                        <do name="plistAssessment"
                            label="评估信息"
                            result="xpage">
                            <query type="auto" name="default" label="默认" orderBy="id:desc">
                                <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default" dataType="int" />
                                <condition label="机构" name="customer.tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />
                            </query>
                            <page>
                                <commands type="command">
                                    <command name="new" label="新建评估" type="add" url="/basic/xm.do?qm=formAssessment"/>
                                </commands>
                                <commands type="operation">
                                    <command name="edit" label="修改"
                                             url="/basic/xm.do?qm=formAssessment&amp;id=${id}"/>
                                    <command name="remove" label="删除"
                                             url="/basic/xm.do?qm=removeAssessmentByCustomer&amp;id=${id}"/>
                                </commands>
                                <fields>
                                    <field name="id" label="主键" inputType="default" />
                                    <field name="customer.name" label="客户" url="/basic/xm.do?qm=viewAssessment&amp;id=${id}" />
                                    <field name="createDatetime" label="创建时间" dataType="datetime" />
                                </fields>
                            </page>
                        </do>

                        <do name="formAssessment"
                            result="/material/nutrition/customer/assessmentForm"/>
                        <do name="viewAssessment"
                            result="/material/nutrition/customer/assessmentView">
                            <page type="related"
                                  label="饮食记录"
                                  url="/basic/xm.do?qm=plistAssessmentIngredientByAssessment_default&amp;conditions=assessment.id:">
                            </page>
                        </do>

                        <do name="saveOrUpdateAssessment"
                            result="redirect:/basic/xm.do?qm=viewAssessment&amp;id=${id}">
                            <page>
                                <fields>
                                    <field name="createDatetime" defaultValue="${CURRENT_DATE}" />
                                    <field name="theStatus" defaultValue="1" dataType="int" />
                                </fields>
                            </page>
                        </do>


                        <do name="removeAssessmentByCustomer"
                            result="redirect:/basic/xm.do?qm=plistCustomer_default" />
                        <do name="batchRemoveCustomer"
                            result="json">
                            <page>
                                <fields>
                                    <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                                </fields>
                            </page>
                        </do>

                    </does>
                </entity>

                <entity name="AssessmentIngredient"
                        label="饮食记录" basic="new,vm,va,em,ea,dm,da" others=""
                        model="com.ming800.material.nutrition.model.AssessmentIngredient">
                    <fields>
                        <field name="theStatus" label="状态" dataType="int"
                               inputType="select_status" key="Ingredient.theStatus" >
                            <statusType fieldName="theStatus">
                                <item label="删除" value="0" />
                                <item label="正常" value="1" />
                            </statusType>
                        </field>

                    </fields>
                    <does>

                        <do name="plistAssessmentIngredientByAssessment"
                            label="饮食信息"
                            result="xpagerelated">
                            <query type="auto" name="default" label="默认" orderBy="id:desc">
                                <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default" dataType="int" />
                                <condition label="客户" name="assessment.id" defaultValue="" operation="eq" inputType="default" />
                            </query>
                            <page>
                                <commands type="command">
                                    <command name="new" label="新建饮食信息" type="add" url="/basic/xm.do?resultType=assessment&amp;qm=formAssessmentIngredient"/>
                                </commands>
                                <commands type="operation">
                                    <command name="edit" label="修改"
                                             url="/basic/xm.do?resultType=assessment&amp;qm=formAssessmentIngredient&amp;id=${id}"/>
                                    <command name="remove" label="删除"
                                             url="/basic/xm.do?qm=removeAssessmentIngredientByAssessment&amp;id=${id}"/>
                                </commands>
                                <fields>
                                    <field name="id" label="主键" inputType="default" />
                                    <field name="ingredient.name" label="原料" url="/basic/xm.do?resultType=assessment&amp;qm=viewAssessmentIngredient&amp;id=${id}"/>
                                    <field name="amount" label="重量(g)" align="right" />
                                </fields>
                            </page>
                        </do>

                        <do name="formAssessmentIngredient"
                            result="/material/nutrition/customer/assessmentIngredientForm"/>
                        <do name="viewAssessmentIngredient"
                            result="/material/nutrition/customer/assessmentIngredientView">
                        </do>

                        <do name="saveOrUpdateAssessmentIngredient"
                            result="redirect:/basic/xm.do?qm=viewAssessmentIngredient&amp;id=${id}">
                            <page>
                                <fields>
                                    <field name="theStatus" defaultValue="1" dataType="int" />
                                </fields>
                            </page>
                        </do>

                        <do name="removeAssessmentIngredientByAssessment"
                            result="redirect:/basic/xm.do?qm=viewAssessment&amp;id=${assessment.id}" />

                    </does>
                </entity>

                <entity name="AssessmentResult"
                        label="评估结果" basic="new,vm,va,em,ea,dm,da" others=""
                        model="com.ming800.material.nutrition.model.AssessmentResult">
                    <fields>
                        <field name="theStatus" label="状态" dataType="int"
                               inputType="select_status" key="Ingredient.theStatus" >
                            <statusType fieldName="theStatus">
                                <item label="删除" value="0" />
                                <item label="正常" value="1" />
                            </statusType>
                        </field>

                    </fields>
                    <does>

                        <do name="plistAssessmentResultByAssessment"
                            label="评估结果"
                            result="xpagerelated">
                            <query type="auto" name="default" label="默认" orderBy="id:desc">
                                <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default" dataType="int" />
                                <condition label="评估信息" name="assessment.id" defaultValue="" operation="eq" inputType="default" />
                            </query>
                            <page>
                                <commands type="command">
                                    <command name="new" label="新建饮食信息" type="add" url="/basic/xm.do?resultType=assessment&amp;qm=formAssessmentResult"/>
                                </commands>
                                <commands type="operation">
                                    <command name="edit" label="修改"
                                             url="/basic/xm.do?resultType=assessment&amp;qm=formAssessmentResult&amp;id=${id}"/>
                                    <command name="remove" label="删除"
                                             url="/basic/xm.do?qm=removeAssessmentResultByAssessment&amp;id=${id}"/>
                                </commands>
                                <fields>
                                    <field name="id" label="主键" inputType="default" />
                                    <field name="content" label="内容" url="/basic/xm.do?resultType=assessment&amp;qm=viewAssessmentResult&amp;id=${id}"/>
                                </fields>
                            </page>
                        </do>

                        <do name="formAssessmentResult"
                            result="/material/nutrition/customer/assessmentResultForm"/>
                        <do name="viewAssessmentResult"
                            result="/material/nutrition/customer/assessmentResultView">
                        </do>

                        <do name="saveOrUpdateAssessmentResult"
                            execute="com.ming800.material.nutrition.controller.AssessmentResultSaveHandler"
                            result="redirect:/basic/xm.do?qm=viewAssessmentResult&amp;id=${id}">
                            <page>
                                <fields>
                                    <field name="theStatus" defaultValue="1" dataType="int" />
                                </fields>
                            </page>
                        </do>

                        <do name="removeAssessmentResultByAssessment"
                            result="redirect:/basic/xm.do?qm=viewAssessment&amp;id=${assessment.id}" />

                    </does>
                </entity>-->

        <entity name="AssessmentCustomerCateringPlan"
                label="评估" basic="new,vm,va,em,ea,dm,da" others=""
                model="com.ming800.material.nutrition.model.CustomerCateringPlan">
            <fields>
            </fields>
            <does>

                <do name="plistAssessmentCustomerCateringPlan"
                    label="配餐"
                    result="/material/nutrition/customer/assessmentCustomerCateringPlanList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="3" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="创建者" name="user.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="3" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="创建者" name="user.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                        <condition label="档案名称" name="customer.name" defaultValue="" operation="eq" inputType="text"/>
                    </query>
                </do>

                <do name="formCustomerAssessmentPlan"
                    result="/material/nutrition/customer/customerAssessmentPlanForm"/>

                <do name="formAssessmentCustomerCateringPlan"
                    result="/material/nutrition/customer/customerCateringPlanAssessmentForm"/>

            </does>
        </entity>

        <entity name="MealCustomerCateringPlan"
                label="配餐" basic="new,vm,va,em,ea,dm,da" others=""
                model="com.ming800.material.nutrition.model.CustomerCateringPlan">
            <fields>
            </fields>
            <does>

                <do name="plistMealCustomerCateringPlan"
                    label="配餐"
                    result="/material/nutrition/customer/mealCustomerCateringPlanList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="2" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="创建者" name="user.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="2" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="创建者" name="user.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                        <condition label="档案名称" name="customer.name" defaultValue="" operation="eq" inputType="text"/>
                    </query>
                </do>

                <do name="plistMyMealCustomerCateringPlan"
                    label="配餐"
                    result="/material/nutrition/customer/myMealCustomerCateringPlanList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="2" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="客户" name="client.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="2" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="客户" name="client.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                        <condition label="档案名称" name="customer.name" defaultValue="" operation="eq" inputType="text"/>
                    </query>
                </do>

                <do name="formMealCustomerCateringPlan"
                    result="/material/nutrition/customer/customerCateringPlanMealForm"/>

                <do name="removeMealCustomerCateringPlan"
                    result="redirect:/basic/xm.do?qm=plistMealCustomerCateringPlan_default"/>

                <!--评估   |    配餐-->
                <do name="listCustomerCateringPlanByCustomer"
                    label="配餐记录"
                    result="/material/nutrition/customer/customerPlanByCustomerList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="类型" name="theType" defaultValue="" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="客户" name="customer.id" defaultValue="" operation="eq" inputType="default"/>
                    </query>
                </do>

                <do name="formCustomerMealPlan"
                    result="/material/nutrition/customer/customerMealPlanForm"/>

            </does>
        </entity>

        <entity name="CustomerCateringPlan"
                label="套餐" basic="new,vm,va,em,ea,dm,da" others=""
                model="com.ming800.material.nutrition.model.CustomerCateringPlan">
            <fields>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="CustomerCateringPlan.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

                <field name="theType" label="类型" dataType="int"
                       inputType="select_status" key="CustomerCateringPlan.theType">
                    <statusType fieldName="theType">
                        <item label="模版" value="1"/>
                        <item label="配餐" value="2"/>
                        <item label="评估" value="3"/>
                    </statusType>
                </field>

                <field name="dicType" label="套餐类型"
                       inputType="select_status" key="CustomerCateringPlan.dicType">
                    <statusType fieldName="dicType">
                        <item label="一日" value="1"/>
                        <item label="一周" value="7"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistCustomerCateringPlanDialog" type="dialog"
                    label="配餐模版"
                    result="xpage">
                    <query type="auto" name="dialog" label="默认" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="套餐"/>
                            <field name="dicType" label="类型" dataType="status" key="CustomerCateringPlan.dicType"/>
                            <field name="reference.name" label="营养参考标准"/>
                            <field name="createDatetime" label="创建日期" dataType="datetime"/>
                        </fields>
                    </page>
                </do>

                <do name="plistCustomerCateringPlan"
                    label="套餐"
                    result="/material/nutrition/customer/customerCateringPlanList">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="创建者" name="user.id" defaultValue="${MY_USER}" operation="eq"
                                   inputType="default"/>
                        <condition label="客户" name="customer.id" defaultValue="" operation="eq" inputType="default"/>
                    </query>
                </do>
                <do name="formCustomerCateringPlan"
                    result="/material/nutrition/customer/customerCateringPlanForm"/>
                <do name="saveOrUpdateCustomerCateringPlan"
                    execute="com.ming800.material.nutrition.controller.CustomerCateringPlanSaveHandler"
                    result="redirect:/meal/mealStatistic.do?id=${id}">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                            <field name="createDatetime" defaultValue="${CURRENT_DATE}" dataType="datetime"/>
                            <field name="client" defaultValue="${MY_USER}"/>
                            <field name="user" defaultValue="${MY_USER}"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                        </fields>
                    </page>
                </do>
                <do name="removeCustomerCateringPlan"
                    result="redirect:/basic/xm.do?qm=plistCustomerCateringPlan_default"/>


                <do name="viewCustomerCateringPlan"
                    result="/material/nutrition/customer/customerCateringPlanView"/>
                <do name="removePlanByPerson"
                    result="redirect:/basic/xm.do?qm=viewCustomerPersonInfo&amp;id=${customer.id}"/>
                <do name="removePlanByPeople"
                    result="redirect:/basic/xm.do?qm=viewCustomerPeopleInfo&amp;id=${customer.id}"/>

            </does>
        </entity>

        <entity name="Reference"
                label="营养参考标准设置" basic="new,va,ea,da" others=""
                model="com.ming800.material.nutrition.model.Reference">
            <fields>
                <field name="name" label="名称" inputType="text"/>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="Ingredient.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

                <field name="theType" label="类型" dataType="int"
                       inputType="select_status" key="Ingredient.theType">
                    <statusType fieldName="theType">
                        <item label="男" value="1"/>
                        <item label="女" value="2"/>
                        <item label="孕妇(早)" value="3"/>
                        <item label="孕妇(中)" value="4"/>
                        <item label="孕妇(晚)" value="5"/>
                        <item label="奶母" value="6"/>
                        <item label="群体" value="11"/>
                    </statusType>
                </field>

                <field name="workType" label="工作强度" dataType="int"
                       inputType="select_status" key="Reference.workType">
                    <statusType fieldName="workType">
                        <item label="轻度" value="1"/>
                        <item label="中度" value="2"/>
                        <item label="重度" value="3"/>
                        <!--<item label="重度" value="4" />-->
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistReferenceByConditionsJson"
                    label="json串"
                    result="json">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="主键" name="id" defaultValue="" operation="in" inputType="default"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>

                            <field name="energy" label="能量(kcal)" align="right"/>
                            <field name="protein" label="蛋白质(g)" align="right"/>
                            <field name="fat" label="脂肪(g)" align="right"/>
                            <field name="carbohydrate" label="碳水化合物(g)" align="right"/>
                            <field name="water" label="水分(g)" align="right"/>
                            <field name="dietaryFiber" label="膳食纤维(g)" align="right"/>
                            <field name="cholesterol" label="胆固醇(mg)" align="right"/>

                            <field name="va" label="维生素A(g)" align="right"/>
                            <field name="vc" label="维生素C(g)" align="right"/>
                            <field name="vbSix" label="维生素B6(g)" align="right"/>
                            <field name="vbTwelve" label="维生素B12(g)" align="right"/>
                            <field name="vd" label="维生素D(g)" align="right"/>
                            <field name="ve" label="维生素E(g)" align="right"/>
                            <field name="vitaminE" label="维生素E(VitE)α-TE(g)" align="right"/>
                            <field name="thiamine" label="硫胺素(g)" align="right"/>
                            <field name="riboflavin" label="核黄素(g)" align="right"/>
                            <field name="carotene" label="胡罗卜素(g)" align="right"/>
                            <field name="folvite" label="叶酸(g)" align="right"/>
                            <field name="niacin" label="烟酸(g)" align="right"/>

                            <field name="calcium" label="钙(g)" align="right"/>
                            <field name="phosphor" label="磷(g)" align="right"/>
                            <field name="kalium" label="钾(g)" align="right"/>
                            <field name="natrium" label="钠(g)" align="right"/>
                            <field name="magnesium" label="镁(g)" align="right"/>
                            <field name="iron" label="铁(g)" align="right"/>
                            <field name="zinc" label="锌(g)" align="right"/>
                            <field name="selenium" label="硒(g)" align="right"/>
                            <field name="copper" label="铜(g)" align="right"/>
                            <field name="manganese" label="锰(g)" align="right"/>
                            <field name="iodine" label="碘(g)" align="right"/>

                        </fields>
                    </page>
                </do>

                <do name="plistReferenceDialog" type="dialog"
                    label="营养参考标准弹窗"
                    result="/material/nutrition/reference/referenceDialog">
                    <query type="auto" name="dialog" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="dr96hx5wv6zk3zpx" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="名称" name="name" defaultValue="" operation="eq" inputType="text"/>
                        <condition label="类型" name="theType" defaultValue="" operation="eq" inputType="select_status"
                                   key="Reference.theType" dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="dr96hx5wv6zk3zpx" operation="eq"
                                   inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="theType" label="类型" dataType="status" key="Reference.theType"/>
                            <field name="age" label="年龄" align="right"/>
                            <field name="workType" label="工作强度" dataType="status" key="Reference.workType"/>
                            <field name="energy" label="能量(kcal)" align="right"/>
                            <field name="protein" label="蛋白质(g)" align="right"/>
                            <field name="fat" label="脂肪(g)" align="right"/>
                            <field name="carbohydrate" label="碳水化合物(g)" align="right"/>
                        </fields>
                    </page>
                </do>

                <do name="plistMyReferenceDialog" type="dialog"
                    label="营养参考标准弹窗"
                    result="/material/nutrition/reference/myReferenceDialog">
                    <query type="auto" name="dialog" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="名称" name="name" defaultValue="" operation="eq" inputType="text"/>
                        <condition label="类型" name="theType" defaultValue="" operation="eq" inputType="select_status"
                                   key="Reference.theType" dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                    </query>
                </do>

                <do name="plistReference"
                    label="营养参考标准信息"
                    result="xpage">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="dr96hx5wv6zk3zpx" operation="eq"
                                   inputType="default"/>
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="机构" name="tenant.id" defaultValue="dr96hx5wv6zk3zpx" operation="eq"
                                   inputType="default"/>
                        <condition label="名称" name="name" defaultValue="" operation="likes" inputType="text"/>
                    </query>
                    <page>
                        <commands type="command">
                            <command name="new" label="新建营养参考标准" type="add" url="/basic/xm.do?qm=formReference"/>
                        </commands>
                        <commands type="operation">
                            <command name="edit" label="修改"
                                     url="/basic/xm.do?qm=formReference&amp;id=${id}"/>
                        </commands>
                        <commands type="batch">
                            <command name="batchRemove" label="批量删除" type="remove"
                                     url="batchRemoveReference"/>
                        </commands>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称" url="/basic/xm.do?qm=viewReference&amp;id=${id}"/>
                            <field name="theType" label="类型" dataType="status" key="Reference.theType"/>
                            <field name="age" label="年龄" align="right"/>
                            <field name="workType" label="工作强度" dataType="status" key="Reference.workType"/>
                            <field name="energy" label="能量(kcal)" align="right"/>
                            <field name="protein" label="蛋白质(g)" align="right"/>
                            <field name="fat" label="脂肪(g)" align="right"/>
                            <field name="carbohydrate" label="碳水化合物(g)" align="right"/>
                        </fields>
                    </page>
                </do>

                <do name="formReference"
                    result="/material/nutrition/reference/referenceForm"/>
                <do name="viewReference"
                    result="/material/nutrition/reference/referenceView"/>
                <do name="saveOrUpdateReference"
                    result="redirect:/basic/xm.do?qm=plistReference_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                        </fields>
                    </page>
                </do>

                <do name="removeReference"
                    result="json"/>
                <do name="batchRemoveReference"
                    result="json">
                    <page>
                        <fields>
                            <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="ExerciseItem"
                label="体育项目" basic="new,va,ea,da" others=""
                model="com.ming800.material.nutrition.model.ExerciseItem">
            <fields>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="ExerciseItem.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistExerciseItemDialog" type="dialog"
                    label="体育项目"
                    result="xpage">
                    <query type="auto" name="dialog" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="fullName" label="名称"/>
                            <field name="unitConsume" label="单位消耗(kcal)" align="right"/>
                        </fields>
                    </page>
                </do>

                <do name="plistExerciseItem"
                    label="体育项目"
                    result="xpage">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                    </query>
                    <query name="basic" label="快速查找" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                        <condition label="名称" name="name" defaultValue="" operation="likes" inputType="text"/>
                    </query>
                    <page>
                        <commands type="command">
                            <command name="new" label="新建体育项目" type="add" url="/basic/xm.do?qm=formExerciseItem"/>
                        </commands>
                        <commands type="operation">
                            <command name="edit" label="修改"
                                     url="/basic/xm.do?qm=formExerciseItem&amp;id=${id}"/>
                        </commands>
                        <commands type="batch">
                            <command name="batchRemove" label="批量删除" type="remove"
                                     url="batchRemoveExerciseItem"/>
                        </commands>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称" url="/basic/xm.do?qm=viewExerciseItem&amp;id=${id}"/>
                            <field name="unitConsume" label="单位消耗(kcal)" align="right"/>
                        </fields>
                    </page>
                </do>

                <do name="formExerciseItem"
                    result="/material/nutrition/exerciseItem/exerciseItemForm"/>
                <do name="viewExerciseItem"
                    result="/material/nutrition/exerciseItem/exerciseItemView"/>
                <do name="saveOrUpdateExerciseItem"
                    result="redirect:/basic/xm.do?qm=plistExerciseItem_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                        </fields>
                    </page>
                </do>

                <do name="removeExerciseItem"
                    result="json"/>
                <do name="batchRemoveExerciseItem"
                    result="json">
                    <page>
                        <fields>
                            <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="CustomerExercise"
                label="体育项目" basic="" others=""
                model="com.ming800.material.nutrition.model.CustomerExercise">
            <fields>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="ExerciseItem.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistCustomerExerciseByCustomer"
                    label="体育项目"
                    result="xpagerelated">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="客户" name="customer.id" defaultValue="" operation="eq" inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="exerciseItem.id" label="项目" inputType="default"/>
                            <field name="exerciseItem.unitConsume" label="项目消耗" inputType="default"/>
                            <field name="exerciseItem.name" label="名称"
                                   url="/basic/xm.do?qm=viewExerciseItem&amp;id=${exerciseItem.id}"/>
                            <field name="time" label="时间(min)" align="right"/>
                            <field name="frequency" label="频率" align="right"/>
                            <field name="consume" label="消耗(kcal)" align="right"/>
                            <field name="advice" label="建议"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <!--<entity name="Category"
                label="类别" basic="new,va,ea,da" others=""
                model="com.ming800.material.nutrition.model.Category">
            <fields>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="Category.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

                <field name="theType" label="类型" dataType="int"
                       inputType="select_status" key="Category.theType">
                    <statusType fieldName="theType">
                        <item label="原料" value="1"/>
                        <item label="菜" value="2"/>
                        <item label="食谱" value="3"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistCategoryJson"
                    label="类别弹窗"
                    result="json">
                    <query name="dialog" type="auto" label="默认" orderBy="id:desc">
                        <condition label="类型" name="theType" defaultValue="1" operation="in" inputType="default"
                                   dataType="int"/>
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        &lt;!&ndash;<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />&ndash;&gt;
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="serial" label="编号"/>
                            <field name="memo" label="备注"/>
                        </fields>
                    </page>
                </do>

                <do name="plistCategory"
                    label="类别列表"
                    result="xpage">
                    <query name="default" type="auto" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        &lt;!&ndash;<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />&ndash;&gt;
                    </query>
                    <page>
                        <commands type="command">
                            <command name="new" label="新建类别" type="add" url="/basic/xm.do?qm=formCategory"/>
                        </commands>
                        <commands type="operation">
                            <command name="edit" label="修改"
                                     url="/basic/xm.do?qm=formCategory&amp;id=${id}"/>
                        </commands>
                        <commands type="batch">
                            <command name="batchRemove" label="批量删除" type="remove"
                                     url="batchRemoveCategory"/>
                        </commands>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称" url="/basic/xm.do?qm=viewCategory&amp;id=${id}"/>
                            <field name="serial" label="编号"/>
                            <field name="theType" label="类型" dataType="status" key="Category.theType"/>
                            <field name="memo" label="备注"/>
                        </fields>
                    </page>
                </do>

                <do name="formCategory"
                    result="/material/nutrition/category/categoryForm"/>
                <do name="viewCategory"
                    result="/material/nutrition/category/categoryView"/>
                <do name="saveOrUpdateCategory"
                    execute="com.ming800.material.nutrition.controller.CategorySaveHandler"
                    result="redirect:/basic/xm.do?qm=plistCategory_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                        </fields>
                    </page>
                </do>

                <do name="removeCategory"
                    result="json"/>
                <do name="batchRemoveCategory"
                    result="json">
                    <page>
                        <fields>
                            <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>-->

        <entity name="DiseaseItem"
                label="疾病" basic="new,va,ea,da" others=""
                model="com.ming800.material.nutrition.model.DiseaseItem">
            <fields>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="Category.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistDiseaseItemDialog" type="dialog"
                    label="疾病弹窗"
                    result="xpage">
                    <query name="dialog" type="auto" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="serial" label="编号"/>
                            <field name="memo" label="备注"/>
                        </fields>
                    </page>
                </do>

                <do name="plistDiseaseItem"
                    label="疾病列表"
                    result="xpage">
                    <query name="default" type="auto" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <!--<condition label="机构" name="tenant.id" defaultValue="${MY_BRANCH}" operation="eq" inputType="default" />-->
                    </query>
                    <page>
                        <commands type="command">
                            <command name="new" label="新建疾病" type="add" url="/basic/xm.do?qm=formDiseaseItem"/>
                        </commands>
                        <commands type="operation">
                            <command name="edit" label="修改"
                                     url="/basic/xm.do?qm=formDiseaseItem&amp;id=${id}"/>
                        </commands>
                        <commands type="batch">
                            <command name="batchRemove" label="批量删除" type="remove"
                                     url="batchRemoveDiseaseItem"/>
                        </commands>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称" url="/basic/xm.do?qm=viewDiseaseItem&amp;id=${id}"/>
                            <field name="serial" label="编号"/>
                            <field name="memo" label="备注"/>
                        </fields>
                    </page>
                </do>

                <do name="formDiseaseItem"
                    result="/material/nutrition/disease/diseaseItemForm"/>
                <do name="viewDiseaseItem"
                    result="/material/nutrition/disease/diseaseItemView"/>
                <do name="saveOrUpdateDiseaseItem"
                    execute="com.ming800.material.nutrition.controller.DiseaseItemSaveHandler"
                    result="redirect:/basic/xm.do?qm=plistDiseaseItem_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                            <field name="tenant" defaultValue="${MY_BRANCH}"/>
                        </fields>
                    </page>
                </do>

                <do name="removeDiseaseItem"
                    result="json"/>
                <do name="batchRemoveDiseaseItem"
                    result="json">
                    <page>
                        <fields>
                            <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="CustomerDisease"
                label="档案疾病" basic="" others=""
                model="com.ming800.material.nutrition.model.CustomerDisease">
            <fields>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="ExerciseItem.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistCustomerDiseaseByCustomer"
                    label="体育项目"
                    result="xpagerelated">
                    <query type="auto" name="default" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                        <condition label="客户" name="customer.id" defaultValue="" operation="eq" inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="diseaseItem.id" label="疾病主键" inputType="default"/>
                            <field name="diseaseItem.name" label="疾病名称"
                                   url="/basic/xm.do?qm=viewDiseaseItem&amp;id=${diseaseItem.id}"/>
                            <field name="memo" label="备注"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="MultiType"
                label="标签" basic="new,va,ea,da" others=""
                model="com.ming800.material.nutrition.model.MultiType">
            <fields>

                <field name="theStatus" label="状态" dataType="int"
                       inputType="select_status" key="MultiType.theStatus">
                    <statusType fieldName="theStatus">
                        <item label="删除" value="0"/>
                        <item label="正常" value="1"/>
                    </statusType>
                </field>

            </fields>
            <does>

                <do name="plistMultiTypeDialog" type="dialog"
                    label="标签弹窗"
                    result="xpage">
                    <query name="dialog" type="auto" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="值"/>
                            <field name="modelType" label="标签类型"/>
                        </fields>
                    </page>
                </do>

                <do name="plistMultiType"
                    label="标签列表"
                    result="xpage">
                    <query name="default" type="auto" label="默认" orderBy="id:desc">
                        <condition label="状态" name="theStatus" defaultValue="1" operation="eq" inputType="default"
                                   dataType="int"/>
                    </query>
                    <page>
                        <commands type="command">
                            <command name="new" label="新建标签" type="add" url="/basic/xm.do?qm=formMultiType"/>
                        </commands>
                        <commands type="operation">
                            <command name="edit" label="修改"
                                     url="/basic/xm.do?qm=formMultiType&amp;id=${id}"/>
                        </commands>
                        <commands type="batch">
                            <command name="batchRemove" label="批量删除" type="remove"
                                     url="batchRemoveMultiType"/>
                        </commands>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="值" url="/basic/xm.do?qm=viewMultiType&amp;id=${id}"/>
                            <field name="modelType" label="标签类型"/>
                        </fields>
                    </page>
                </do>

                <do name="formMultiType"
                    result="/material/nutrition/multiType/multiTypeForm"/>
                <do name="viewMultiType"
                    result="/material/nutrition/multiType/multiTypeView"/>
                <do name="saveOrUpdateMultiType"
                    result="redirect:/basic/xm.do?qm=plistMultiType_default">
                    <page>
                        <fields>
                            <field name="theStatus" defaultValue="1" dataType="int"/>
                        </fields>
                    </page>
                </do>

                <do name="removeMultiType"
                    result="json"/>
                <do name="batchRemoveMultiType"
                    result="json">
                    <page>
                        <fields>
                            <field label="状态" name="theStatus" defaultValue="0" dataType="int"/>
                        </fields>
                    </page>
                </do>

            </does>
        </entity>

        <entity name="FileUploadRecord"
                label="附件上传" model="com.ming800.core.p.model.FileUploadRecord">

            <fields>

            </fields>

            <does>
                <do name="listFileUploadRecordByConditions"
                    label="列出附件" result="json">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="objectId" label="附件主键" defaultValue="" operation="eq" inputType="default"/>
                        <condition name="objectType" label="附件类型" defaultValue="" operation="eq" inputType="default"/>
                        <condition name="tenant.id" label="机构" defaultValue="${MY_BRANCH}" operation="eq"
                                   inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="url" label="链接"/>
                        </fields>
                    </page>
                </do>

                <do name="listFileUploadRecordByConditionsForCustomer"
                    label="列出附件" result="json">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition name="objectId" label="附件主键" defaultValue="" operation="eq" inputType="default"/>
                        <condition name="objectType" label="附件类型" defaultValue="" operation="eq" inputType="default"/>
                    </query>
                    <page>
                        <fields>
                            <field name="id" label="主键" inputType="default"/>
                            <field name="name" label="名称"/>
                            <field name="url" label="链接"/>
                        </fields>
                    </page>
                </do>

                <do name="deleteFileUploadRecord"
                    label="删除" result="json">
                </do>
            </does>

        </entity>


        <entity name="City"
                label="校区" basic="sample" others=""
                model="com.efeiyi.ec.organization.model.TeachArea">
            <fields>


            </fields>
            <does>

                <do name="listCity"
                    label="全部校区信息"
                    result="json">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition label="状态" name="id" defaultValue="" operation="ne" inputType="default"/>

                    </query>
                    <!--  <page>
                          <fields>
                              <field name="id" label="主键" inputType="default" />
                              <field name="name" label="名称" />
                              <field name="spell" label="简拼" />
                              <field name="season" label="季节" dataType="status" key="Dish.season" />
                          </fields>
                      </page>-->
                </do>

            </does>
        </entity>


        <entity name="Province"
                label="省份" basic="sample" others=""
                model="com.efeiyi.ec.organization.model.AddressProvince">
            <fields>
                <field name="id" label="" inputType="text"/>
                <field name="name" label="" inputType="text"/>

            </fields>
            <does>

                <do name="listProvince"
                    label="全部省份信息"
                    result="json">
                    <query name="default" label="默认" type="auto" orderBy="id:desc">
                        <condition label="状态" name="id" defaultValue="" operation="ne" inputType="default"/>

                    </query>
                    <!--  <page>
                          <fields>
                              <field name="id" label="主键" inputType="default" />
                              <field name="name" label="名称" />
                              <field name="spell" label="简拼" />
                              <field name="season" label="季节" dataType="status" key="Dish.season" />
                          </fields>
                      </page>-->
                </do>

            </does>
        </entity>

    </entities>
</module>